{"ast":null,"code":"import _slicedToArray from\"/Users/jessicaparker/Northwestern-Bootcamp/react-learning/hw21-google-books/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Col,Row,Container}from\"../components/Grid\";import API from\"../utils/API\";import Card from\"../components/Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchBook=_useState4[0],setSearchBook=_useState4[1];//GET all books and set them to books state\nfunction getBooks(){API.getBooksByTitle(searchBook).then(function(res){console.log(res.data.items,\"book\");setBooks(res.data.items);}).catch(function(err){return console.log(err);});}//handle change function and set value to setSearchBook\nfunction handleChange(event){var value=event.target.value;setSearchBook(value);}//handle search submit to use API once form is completed\nfunction handleSearchSubmit(event){event.preventDefault();if(searchBook){getBooks();}};//retrieves from API the book data to save the book\nfunction handleSaveSubmit(bookData){API.saveBook({title:bookData.volumeInfo.title,authors:bookData.volumeInfo.authors,image:bookData.volumeInfo.imageLinks.thumbnail,description:bookData.volumeInfo.description,link:bookData.volumeInfo.previewLink});};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"jumbotron\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"Google Books Search\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"title\",placeholder:\"search for books\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearchSubmit,children:\"Search\"})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Search Results\"}),books.length>0?books.map(function(book){return/*#__PURE__*/_jsx(Card,{title:book.volumeInfo.title,authors:book.volumeInfo.authors,image:book.volumeInfo.imageLinks?book.volumeInfo.imageLinks.thumbnail:\"https://lh3.googleusercontent.com/proxy/BiRVR9qoYFvNBRAukXex3NUXOkeIypFR4B-YNlFlr52qFSJVAt7OUT-H0xbLampxRjYhLBLjIfHdkbUiG9W0qsXIKFScsiodyTA4-mKG7HhQCvaFrn3zTRjCWyJMSRYXrg\",description:book.volumeInfo.description,link:book.volumeInfo.previewLink,book:book,saveSubmit:handleSaveSubmit},book.volumeInfo.id);}):\"book not found\"]})})]})});}export default Search;","map":{"version":3,"sources":["/Users/jessicaparker/Northwestern-Bootcamp/react-learning/hw21-google-books/client/src/pages/Search.js"],"names":["React","useState","Col","Row","Container","API","Card","Search","books","setBooks","searchBook","setSearchBook","getBooks","getBooksByTitle","then","res","console","log","data","items","catch","err","handleChange","event","value","target","handleSearchSubmit","preventDefault","handleSaveSubmit","bookData","saveBook","title","volumeInfo","authors","image","imageLinks","thumbnail","description","link","previewLink","length","map","book","id"],"mappings":"yMAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,GAAT,CAAcC,GAAd,CAAmBC,SAAnB,KAAoC,oBAApC,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,eACYN,QAAQ,CAAC,EAAD,CADpB,wCACPO,KADO,eACAC,QADA,8BAEsBR,QAAQ,CAAC,EAAD,CAF9B,yCAEPS,UAFO,eAEKC,aAFL,eAId;AACA,QAASC,CAAAA,QAAT,EAAoB,CAChBP,GAAG,CAACQ,eAAJ,CAAoBH,UAApB,EACKI,IADL,CACU,SAAAC,GAAG,CAAI,CAETC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,KAArB,CAA4B,MAA5B,EACAV,QAAQ,CAACM,GAAG,CAACG,IAAJ,CAASC,KAAV,CAAR,CACH,CALL,EAMKC,KANL,CAMW,SAAAC,GAAG,QAAIL,CAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ,EANd,EAOH,CAED;AACA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA6B,IACjBC,CAAAA,KADiB,CACPD,KAAK,CAACE,MADC,CACjBD,KADiB,CAEzBb,aAAa,CAACa,KAAD,CAAb,CACH,CAED;AACA,QAASE,CAAAA,kBAAT,CAA4BH,KAA5B,CAAmC,CAC/BA,KAAK,CAACI,cAAN,GAEA,GAAIjB,UAAJ,CAAgB,CACZE,QAAQ,GACX,CACJ,EAED;AACA,QAASgB,CAAAA,gBAAT,CAA0BC,QAA1B,CAAoC,CAChCxB,GAAG,CAACyB,QAAJ,CAAa,CAETC,KAAK,CAACF,QAAQ,CAACG,UAAT,CAAoBD,KAFjB,CAGTE,OAAO,CAAEJ,QAAQ,CAACG,UAAT,CAAoBC,OAHpB,CAITC,KAAK,CAACL,QAAQ,CAACG,UAAT,CAAoBG,UAApB,CAA+BC,SAJ5B,CAKTC,WAAW,CAACR,QAAQ,CAACG,UAAT,CAAoBK,WALvB,CAMTC,IAAI,CAACT,QAAQ,CAACG,UAAT,CAAoBO,WANhB,CAAb,EAQH,EAID,mBACI,KAAC,SAAD,wBACI,MAAC,GAAD,yBACI,YAAK,SAAS,CAAC,WAAf,uBACI,2CADJ,EADJ,cAMI,KAAC,GAAD,wBACI,qCAEI,cAAO,QAAQ,CAAEjB,YAAjB,CACI,IAAI,CAAC,OADT,CAEI,WAAW,CAAC,kBAFhB,EAFJ,cAOI,eAAQ,OAAO,CAAEI,kBAAjB,oBAPJ,GADJ,EANJ,cAmBI,KAAC,GAAD,wBACI,oCACI,sCADJ,CAEKlB,KAAK,CAACgC,MAAN,CAAe,CAAf,CAAmBhC,KAAK,CAACiC,GAAN,CAAU,SAAAC,IAAI,CAAI,CAClC,mBACI,KAAC,IAAD,EACI,KAAK,CAAEA,IAAI,CAACV,UAAL,CAAgBD,KAD3B,CAEI,OAAO,CAAEW,IAAI,CAACV,UAAL,CAAgBC,OAF7B,CAGI,KAAK,CAAGS,IAAI,CAACV,UAAL,CAAgBG,UAAhB,CAA8BO,IAAI,CAACV,UAAL,CAAgBG,UAAhB,CAA2BC,SAAzD,CAAqE,4KAHjF,CAII,WAAW,CAAEM,IAAI,CAACV,UAAL,CAAgBK,WAJjC,CAKI,IAAI,CAAEK,IAAI,CAACV,UAAL,CAAgBO,WAL1B,CAMI,IAAI,CAAEG,IANV,CAOI,UAAU,CAAEd,gBAPhB,EAAWc,IAAI,CAACV,UAAL,CAAgBW,EAA3B,CADJ,CAYH,CAbmB,CAAnB,CAaI,gBAfT,GADJ,EAnBJ,GADJ,EADJ,CAkDH,CAED,cAAepC,CAAAA,MAAf","sourcesContent":["import React, { useState } from 'react'\nimport { Col, Row, Container } from \"../components/Grid\"\nimport API from \"../utils/API\"\nimport Card from \"../components/Card\"\n\nfunction Search() {\n    const [books, setBooks] = useState([])\n    const [searchBook, setSearchBook] = useState(\"\")\n\n    //GET all books and set them to books state\n    function getBooks() {\n        API.getBooksByTitle(searchBook)\n            .then(res => {\n\n                console.log(res.data.items, \"book\")\n                setBooks(res.data.items)\n            })\n            .catch(err => console.log(err))\n    }\n\n    //handle change function and set value to setSearchBook\n    function handleChange(event) {\n        const { value } = event.target;\n        setSearchBook(value)\n    }\n\n    //handle search submit to use API once form is completed\n    function handleSearchSubmit(event) {\n        event.preventDefault();\n\n        if (searchBook) {\n            getBooks();\n        }\n    };\n\n    //retrieves from API the book data to save the book\n    function handleSaveSubmit(bookData) {\n        API.saveBook({\n            \n            title:bookData.volumeInfo.title ,\n            authors: bookData.volumeInfo.authors,\n            image:bookData.volumeInfo.imageLinks.thumbnail ,\n            description:bookData.volumeInfo.description ,\n            link:bookData.volumeInfo.previewLink \n        })\n    };\n\n\n\n    return (\n        <Container>\n            <Row>\n                <div className=\"jumbotron\">\n                    <h1>Google Books Search</h1>\n\n\n                </div>\n                <Col>\n                    <form>\n\n                        <input onChange={handleChange}\n                            name=\"title\"\n                            placeholder=\"search for books\">\n\n                        </input>\n                        <button onClick={handleSearchSubmit}>Search</button>\n                    </form>\n\n                </Col>\n\n                <Col>\n                    <div>\n                        <h2>Search Results</h2>\n                        {books.length > 0 ? books.map(book => {\n                            return (\n                                <Card key={book.volumeInfo.id}\n                                    title={book.volumeInfo.title}\n                                    authors={book.volumeInfo.authors}\n                                    image={ book.volumeInfo.imageLinks ?  book.volumeInfo.imageLinks.thumbnail : \"https://lh3.googleusercontent.com/proxy/BiRVR9qoYFvNBRAukXex3NUXOkeIypFR4B-YNlFlr52qFSJVAt7OUT-H0xbLampxRjYhLBLjIfHdkbUiG9W0qsXIKFScsiodyTA4-mKG7HhQCvaFrn3zTRjCWyJMSRYXrg\" }\n                                    description={book.volumeInfo.description}\n                                    link={book.volumeInfo.previewLink}\n                                    book={book}\n                                    saveSubmit={handleSaveSubmit}>\n                                </Card>\n\n                            )\n                        }) : \"book not found\"}\n\n\n\n\n                       \n                    </div>\n                </Col>\n\n\n            </Row>\n        </Container >\n    )\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}